# CleanupTemp Pro ‚Äî CHANGELOG

---

## v3.2.0 (2026-02-24) ‚Äî Stability, Performance & Fixes

---

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

**[–ö–†–ò–¢–ò–ß–ù–û] –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å" –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞—Å—å –ø–æ—Å–ª–µ 2-3 –æ—á–∏—Å—Ç–æ–∫**
–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Äî –æ–¥–∏–Ω –æ–±—â–∏–π —Ñ–ª–∞–≥ `volatile bool _isRunning` –Ω–∞ –æ–±–∞ –º–µ—Ç–æ–¥–∞
(—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞). –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `async void` + `await` –ø–æ—Ä—è–¥–æ–∫
–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `finally` –∏ `Dispatcher` –±—ã–ª –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º, —Ñ–ª–∞–≥ –º–æ–≥ –Ω–µ —Å–±—Ä–æ—Å–∏—Ç—å—Å—è.
–†–µ—à–µ–Ω–∏–µ: –¥–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö `bool _isScanning` –∏ `_isCleaning` –Ω–∞ UI –ø–æ—Ç–æ–∫–µ.
`async void` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á—Ç–æ `finally` –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ UI –ø–æ—Ç–æ–∫–µ –ø–æ—Å–ª–µ `await`,
–ø–æ—ç—Ç–æ–º—É –Ω–∏–∫–∞–∫–æ–≥–æ `Interlocked` –∏ `Dispatcher.Invoke` –≤ `finally` –Ω–µ –Ω—É–∂–Ω–æ.

**[XAML] Canvas.Right / Canvas.Bottom –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ WPF**
–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π orb –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É MainWindow –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
attached-—Å–≤–æ–π—Å—Ç–≤–∞ `Canvas.Right` –∏ `Canvas.Bottom` ‚Äî —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–æ—Å—Ç–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è.
–ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `Canvas.Left` / `Canvas.Top` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.

**[AboutWindow] –í–µ—Ä—Å–∏—è –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞**
`AboutWindow.xaml` –ø–æ–∫–∞–∑—ã–≤–∞–ª `–í–µ—Ä—Å–∏—è 3.1.0` –≤–º–µ—Å—Ç–æ `3.2.0`.

**[AboutWindow] `TryLoad` –≥–ª–æ—Ç–∞–ª –æ—à–∏–±–∫—É –±–µ–∑ –ª–æ–≥–∞**
`catch { return null; }` –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ `catch (Exception ex)` —Å `AppLog.Warn(...)`.
–¢–µ–ø–µ—Ä—å –µ—Å–ª–∏ –ª–æ–≥–æ—Ç–∏–ø –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è ‚Äî –≤ –ª–æ–≥ –ø–∏—à–µ—Ç—Å—è –ø—Ä–∏—á–∏–Ω–∞.

**[App.xaml] –ú—ë—Ä—Ç–≤—ã–π –ø—É—Å—Ç–æ–π —Å—Ç–∏–ª—å `WindowShadow`**
–°—Ç–∏–ª—å –±—ã–ª –æ–±—ä—è–≤–ª–µ–Ω —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º "–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä" –Ω–æ —Ç–µ–ª–æ –ø—É—Å—Ç–æ–µ
–∏ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –£–¥–∞–ª—ë–Ω, –∑–∞–º–µ–Ω—ë–Ω –ø–æ—è—Å–Ω—è—é—â–∏–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º.

**[–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å] –î–≤–æ–π–Ω–æ–π WMI –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**
`ScanDegree` –∏ `CleanDegree` –æ–±–∞ –≤—ã–∑—ã–≤–∞–ª–∏ `GetOptimalThreadCount()` ‚Äî
WMI Storage API –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª—Å—è –¥–≤–∞–∂–¥—ã –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞.
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –æ–¥–∏–Ω –≤—ã–∑–æ–≤ ‚Üí `_optimalThreadCount`, –æ–±–∞ –ø–æ–ª—è —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –Ω–µ–≥–æ.

**[–õ–æ–≥–≥–µ—Ä] `AppLog.Error` –Ω–µ –ø–∏—Å–∞–ª StackTrace**
–¢–æ–ª—å–∫–æ `ex.Message` ‚Äî –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö –±—ã–ª–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –æ—Ç–∫—É–¥–∞ –æ–Ω–∏ –ø—Ä–∏—à–ª–∏.
–¢–µ–ø–µ—Ä—å –ø–∏—à–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π `ex.StackTrace`.

---

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –¥–∏—Å–∫–∞ HDD / SSD**
–ú–µ—Ç–æ–¥ `GetOptimalThreadCount()` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –¥–∏—Å–∫–∞ —á–µ—Ä–µ–∑
WMI Storage API (`MSFT_PhysicalDisk.MediaType`):
- **SSD / NVMe** ‚Üí 4 –ø–æ—Ç–æ–∫–∞ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω)
- **HDD** ‚Üí 1 –ø–æ—Ç–æ–∫ (–æ–¥–Ω–∞ –≥–æ–ª–æ–≤–∫–∞, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –º–µ—à–∞–µ—Ç)
- **WMI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** ‚Üí 2 –ø–æ—Ç–æ–∫–∞ (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–µ—Ñ–æ–ª—Ç)

–≠—Ç–æ —Ä–µ—à–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –º–µ–¥–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ –Ω–æ—É—Ç–±—É–∫–∞—Ö —Å HDD ‚Äî —Ä–∞–Ω—å—à–µ
4 –ø–æ—Ç–æ–∫–∞ –∑–∞—Å—Ç–∞–≤–ª—è–ª–∏ –≥–æ–ª–æ–≤–∫—É –ø—Ä—ã–≥–∞—Ç—å –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ –¥–∏—Å–∫–∞.
–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∏—à–µ—Ç—Å—è –≤ –ª–æ–≥: `Drive C: MediaType=3 ‚Üí HDD, threads=1`

**–ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—Å—Ç–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫**
`%AppData%\CleanupTempPro\history.json` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –ø–æ—Å–ª–µ
–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –•—Ä–∞–Ω—è—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–µ—Å—Å–∏–π –æ—á–∏—Å—Ç–∫–∏.

**–õ–æ–≥–≥–µ—Ä `AppLog`**
–í—Å–µ —Å–æ–±—ã—Ç–∏—è –∏ –æ—à–∏–±–∫–∏ –ø–∏—à—É—Ç—Å—è –≤ `%AppData%\CleanupTempPro\app.log`.
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 2 –ú–ë (–æ–±—Ä–µ–∑–∞–µ—Ç—Å—è —Å—Ç–∞—Ä–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞).
–£—Ä–æ–≤–Ω–∏: `INFO`, `WARN`, `ERROR` —Å –ø–æ–ª–Ω—ã–º StackTrace.

---

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ß—Ç–æ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|-----|------|-------|
| –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –í—Å–µ–≥–¥–∞ 4 –ø–æ—Ç–æ–∫–∞ | 1 (HDD) / 4 (SSD) ‚Äî –∞–≤—Ç–æ |
| –û—á–∏—Å—Ç–∫–∞ | –í—Å–µ–≥–¥–∞ 4 –ø–æ—Ç–æ–∫–∞ | 1 (HDD) / 4 (SSD) ‚Äî –∞–≤—Ç–æ |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ —Å–∫–∞–Ω–µ | –ù–∞ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª | –ë–∞—Ç—á–∞–º–∏ —Ä–∞–∑ –≤ 300 –º—Å / 500 —Ñ–∞–π–ª–æ–≤ |
| –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ —Å–æ–±—ã—Ç–∏–π | `wevtutil.exe` –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ | –ù–∞—Ç–∏–≤–Ω—ã–π `EventLogSession` API |
| WMI –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ | 2 –≤—ã–∑–æ–≤–∞ | 1 –≤—ã–∑–æ–≤ |

---

### üîß –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

**–í—Å–µ –ø—É—Å—Ç—ã–µ `catch {}` —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã** (–∫—Ä–æ–º–µ `RotateLog` –≤–Ω—É—Ç—Ä–∏ –ª–æ–≥–≥–µ—Ä–∞ ‚Äî —Ç–∞–º –æ–ø—Ä–∞–≤–¥–∞–Ω–æ):
- `UnauthorizedAccessException` ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –º–æ–ª—á–∞ (–Ω–µ—Ç –ø—Ä–∞–≤ ‚Äî –Ω–æ—Ä–º–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
- `IOException` ‚Äî `AppLog.Warn` —Å –ø—É—Ç—ë–º —Ñ–∞–π–ª–∞
- `Exception` ‚Äî `AppLog.Error` —Å –ø–æ–ª–Ω—ã–º StackTrace

**`GetAllCheckBoxes()`** ‚Äî –µ–¥–∏–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è `SelectAll` / `SelectNone`.
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–µ–∫–±–æ–∫—Å–∞ = –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `Glow(color, radius, opacity)` ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ `DropShadowEffect`
- `HGrad(c1, c2)` ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ `LinearGradientBrush`
- –£—Å—Ç—Ä–∞–Ω—è—é—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ hover-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –∫–Ω–æ–ø–æ–∫

**`CustomDialog`:**
- `MakeGradient()`, `MakeGlow()` ‚Äî —É–±—Ä–∞–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- `TryParseColor()` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤–º–µ—Å—Ç–æ `(Color)ColorConverter...!`
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã `CancelC1/C2/HoverC1/HoverC2` –≤–º–µ—Å—Ç–æ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Ü–≤–µ—Ç–æ–≤

**`Math.Clamp`** –≤–º–µ—Å—Ç–æ `Math.Max(0, Math.Min(w, ...))`

**`StartWindowsUpdateService()`** ‚Äî —Ü–∏–∫–ª –ø–æ –∏–º–µ–Ω–∞–º —Å–ª—É–∂–± –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏–ø–∞—Å—Ç—ã

**`CleanEmptyDirs()`** ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –ø—É—Å—Ç—ã—Ö –ø–∞–ø–æ–∫

---

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (csproj)

```xml
<!-- –ù–æ–≤–æ–µ –≤ v3.2.0 ‚Äî WMI –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è HDD/SSD -->
<PackageReference Include="System.Management" Version="8.0.0" />
```

---

### üìÅ –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
%AppData%\CleanupTempPro\
  settings.json    ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ–∫–±–æ–∫—Å–æ–≤ (—Å v3.1.0)
  history.json     ‚Äî –∏—Å—Ç–æ—Ä–∏—è –æ—á–∏—Å—Ç–æ–∫, 20 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–µ—Å—Å–∏–π (–Ω–æ–≤–æ–µ –≤ v3.2.0)
  app.log          ‚Äî –ª–æ–≥ —Å–æ–±—ã—Ç–∏–π –∏ –æ—à–∏–±–æ–∫ —Å –∞–≤—Ç–æ—Ä–æ—Ç–∞—Ü–∏–µ–π (–Ω–æ–≤–æ–µ –≤ v3.2.0)
```

---

## v3.1.0 ‚Äî –ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è

- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 9 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –º—É—Å–æ—Ä–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (4 –ø–æ—Ç–æ–∫–∞, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Chrome, Edge, Firefox, Brave, Opera, –Ø–Ω–¥–µ–∫—Å, Vivaldi
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –¥–∏—Å–∫–æ–≤ D:, E:, —Ñ–ª–µ—à–µ–∫
- –ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–ø–æ–∫ –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ / –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª—É–∂–±—ã Windows Update –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ
- –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ —Å–æ–±—ã—Ç–∏–π Windows —á–µ—Ä–µ–∑ `EventLogSession` API
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–± –æ—Ç–∫—Ä—ã—Ç—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö WU
- –†–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–æ–Ω/–ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ USB
- –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—Å—Ç–æ–∫ –≤ –ø–∞–º—è—Ç–∏ (–±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏)
